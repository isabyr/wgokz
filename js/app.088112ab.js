(function(t){function e(e){for(var r,s,c=e[0],u=e[1],i=e[2],m=0,d=[];m<c.length;m++)s=c[m],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var i=0;i<c.length;i++)e(c[i]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("b-row",{attrs:{"align-h":"center"}},[n("b-col",{attrs:{lg:"8"}},[n("h1",[t._v("Whatsapp Рассылка")]),n("b-checkbox",{attrs:{switch:""},model:{value:t.broadcast_mode,callback:function(e){t.broadcast_mode=e},expression:"broadcast_mode"}},[t._v("Групповая рассылка")]),n("b-alert",{attrs:{show:t.broadcast_mode&&t.is_mobile,variant:"warning"}},[t._v("Возможно вы за мобильным аппаратом, для удобной групповой рекомендуем пользоваться компьютером где включен Web Whatsapp")]),n("b-row",[n("b-col",{attrs:{md:"6"}},[t.broadcast_mode?n("div",[n("b-textarea",{staticStyle:{margin:"0.25em 0"},attrs:{placeholder:"Скопируйте сюда ваши номера",rows:"5"},model:{value:t.raw_nums,callback:function(e){t.raw_nums=e},expression:"raw_nums"}}),n("b-textarea",{staticStyle:{margin:"0.25em 0"},attrs:{placeholder:"Сообщение (опционально)"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),t.formatted_nums?n("b-row",{attrs:{"align-v":"center"}},[t._l(t.formatted_nums,(function(e){return[n("b-col",[n("span",[t._v(t._s(e))])]),n("b-col",{attrs:{cols:"1"}},[n("b-checkbox",{attrs:{disabled:""},model:{value:t.num_sent[e],callback:function(n){t.$set(t.num_sent,e,n)},expression:"num_sent[n]"}})],1),n("b-col",{attrs:{cols:"5",align:"right"}},[n("b-button",{attrs:{variant:"success"},on:{click:function(n){return t.openWAlink(e)}}},[t._v("Отправить")])],1),n("div",{staticClass:"w-100",staticStyle:{height:"0.5em"}})]}))],2):t._e()],1):n("div",[n("b-input",{staticStyle:{margin:"0.25em 0"},attrs:{placeholder:"Номер"},model:{value:t.raw_num,callback:function(e){t.raw_num=e},expression:"raw_num"}}),n("b-textarea",{staticStyle:{margin:"0.25em 0"},attrs:{placeholder:"Сообщение (опционально)"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),n("b-row",[n("b-col",[n("p",[t._v("Отправить сообщение на номер: "+t._s(t.formatted_num))]),t.formatted_num?n("b-button",{attrs:{disabled:t.formatted_num.length<=10,variant:"success"},on:{click:function(e){return t.openWAlink(t.formatted_num)}}},[t._v("Написать")]):t._e()],1)],1)],1)]),n("b-col",{staticClass:"d-none d-md-block"},[t.broadcast_mode?n("b-card",{staticStyle:{margin:"0.25em 0"},attrs:{title:"Рассылка"}},[n("b-card-text",[n("p",[t._v("Скопируйте ваши номера разделенные через запятую, или новой строкой: ")]),n("b-card",[n("span",[t._v("87010000001, 8(701)0000002")]),n("br"),n("span",[t._v("+7 (777) 000-00-03")]),n("br"),n("span",[t._v("+77770000004")])]),n("p",[t._v("И отправляйте по очереди каждому номеру")])],1)],1):t._e()],1)],1)],1)],1)],1)},o=[],s=(n("d81d"),n("ac1f"),n("5319"),n("1276"),n("498a"),n("9029")),c={name:"App",data:function(){return{broadcast_mode:!1,is_mobile:s["isMobile"],message:"",raw_num:"",raw_nums:"",num_sent:{}}},methods:{formatNumber:function(t){var e=t.replace(/\D/g,""),n=e,r="";return e.length>10&&(r=e.substring(0,e.length-10),n=e.substring(e.length-10,e.length)),"8"==r&&(r="7"),r+n},openWAlink:function(t){var e="";e=this.is_mobile?"https://api.whatsapp.com/send?phone="+t+"&text="+encodeURI(this.message)+"&source=&data=":"https://web.whatsapp.com/send?phone="+t+"&text="+encodeURI(this.message)+"&source=&data=",t.length>10&&(window.open(e),this.broadcast_mode&&this.$set(this.num_sent,t,!0))}},computed:{formatted_num:function(){return this.formatNumber(this.raw_num)},formatted_nums:function(){var t=this;if(this.raw_nums.trim()){var e=this.raw_nums.trim().split(/[\n,]+/);return e.map((function(e){return t.formatNumber(e)}))}return[]}}},u=c,i=n("2877"),l=Object(i["a"])(u,a,o,!1,null,null,null),m=l.exports,d=n("5f5b"),p=n("b1e0");n("f9e3"),n("2dd8");r["default"].config.productionTip=!1,r["default"].use(d["a"]),r["default"].use(p["a"]),new r["default"]({render:function(t){return t(m)}}).$mount("#app")}});
//# sourceMappingURL=app.088112ab.js.map